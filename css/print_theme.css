/**
 * Styles d'impression pour le thème DSFR
 * VERSION DEBUG - 2024-11-17
 */

@media print {
    /* DEBUG: Afficher un texte de debug */
    body::before {
        content: "DEBUG PRINT CSS - Version 2024-11-17 - DSFR Theme Print Styles LOADED" !important;
        display: block !important;
        background: yellow !important;
        color: red !important;
        font-weight: bold !important;
        padding: 10px !important;
        border: 3px solid red !important;
        margin-bottom: 20px !important;
        font-size: 14pt !important;
    }

    /* Masquer les éléments de navigation lors de l'impression */
    .survey-navigation,
    .progress-bar-container,
    .survey-header nav,
    .progress-wrapper,
    button,
    .btn {
        display: none !important;
    }

    /* Optimiser pour l'impression - réduction globale des tailles et marges */
    body {
        background: white;
        color: black;
        font-size: 11pt;
        line-height: 1.3;
        margin: 0;
        padding: 0.5cm;
    }

    /* Éviter que les questions soient coupées entre deux pages */
    .question-container,
    .dsfr-question {
        page-break-inside: avoid;
        page-break-before: auto;
        margin-bottom: 0.3cm !important;
        padding: 0.2cm !important;
    }

    /* Réduction des marges et espacements */
    .fr-mb-2w,
    .fr-mb-3w,
    .fr-mb-4w,
    .fr-mb-6w {
        margin-bottom: 0.2cm !important;
    }

    .fr-mt-2w,
    .fr-mt-3w,
    .fr-mt-4w {
        margin-top: 0.2cm !important;
    }

    .fr-p-2w,
    .fr-p-3w,
    .fr-p-4w {
        padding: 0.1cm !important;
    }

    /* Réduction des titres */
    h1, h2, h3, h4, h5, h6 {
        margin-top: 0.2cm;
        margin-bottom: 0.1cm;
        line-height: 1.2;
    }

    h1 { font-size: 16pt; }
    h2 { font-size: 14pt; }
    h3 { font-size: 12pt; }
    h4, h5, h6 { font-size: 11pt; }

    /* Textarea : hauteur minimale et ajustement au contenu */
    textarea,
    .fr-input[type="textarea"] {
        min-height: 1.5em !important;
        height: auto !important;
        overflow: visible !important;
        resize: none !important;
        padding: 0.1cm !important;
        border: 1px solid #666 !important;
    }

    /* Textarea vide : hauteur d'une ligne */
    textarea:empty,
    textarea:not(:valid) {
        height: 1.5em !important;
    }

    /* Input : hauteur réduite */
    input[type="text"],
    input[type="number"],
    input[type="email"],
    .fr-input {
        height: auto !important;
        padding: 0.05cm 0.1cm !important;
        border: 1px solid #666 !important;
    }

    /* Labels et textes de questions */
    .question-text,
    .ls-label-question {
        font-weight: bold;
        margin-bottom: 0.1cm;
    }

    /* Réduction des espacements dans les grilles */
    .fr-grid-row {
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* Tableaux : marges réduites */
    table {
        margin-bottom: 0.2cm;
    }

    table th,
    table td {
        padding: 0.1cm !important;
    }

    /* Radio et checkboxes : taille réduite */
    input[type="radio"],
    input[type="checkbox"] {
        width: 0.4cm;
        height: 0.4cm;
    }

    /* Supprimer les URLs des liens (sauf si nécessaire) */
    a[href]:after {
        content: none !important;
    }

    /* Messages d'aide : texte plus petit */
    .question-help,
    .ls-questionhelp {
        font-size: 9pt;
        margin-top: 0.1cm;
    }

    /* Groupes de questions */
    .ls-group-container {
        page-break-inside: avoid;
        margin-bottom: 0.4cm;
    }
}
