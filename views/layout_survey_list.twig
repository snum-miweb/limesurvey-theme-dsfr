{#
LimeSurvey - DSFR Theme
Survey List Layout - Liste des questionnaires publics
#}

<!DOCTYPE html>
<html lang="{{ aSurveyInfo.languagecode }}" dir="{{ aSurveyInfo.dir }}"
      class="{{ aSurveyInfo.languagecode }} dir-{{ aSurveyInfo.dir }} {{ aSurveyInfo.class.html }}" {{ aSurveyInfo.attr.html }}>

{{ include('./subviews/header/head.twig') }}

<body class="{{ aSurveyInfo.class.body }} font-{{ aSurveyInfo.options.font }} lang-{{ aSurveyInfo.languagecode }} {{ aSurveyInfo.surveyformat }} {% if( aSurveyInfo.options.brandlogo == "on") %}brand-logo{% endif %}" {{ aSurveyInfo.attr.body }}>

<div id="beginScripts">
    <###begin###>
</div>

<article>
    <div id="{{ aSurveyInfo.id.dynamicreload }}">
        {% block body %}
            {# Navigation Bar #}
            {% block nav_bar %}
                {{ include('./subviews/header/nav_bar.twig') }}
            {% endblock %}

            {% block content %}
                {{ registerTemplateCssFile('./css/survey-list.css') }}

                <div class="fr-container fr-py-8w">
                    {# Alerte JavaScript désactivé #}
                    {{ include('./subviews/messages/no_js_alert.twig') }}

                    {# En-tête avec nom du site #}
                    <div class="fr-grid-row fr-grid-row--center fr-mb-4w">
                        <div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
                            {% if aSurveyInfo.options.brandlogo == "on" %}
                                {{ image('./files/survey_list_header.png', aSurveyInfo.name, {"class": "fr-responsive-img fr-mx-auto fr-mb-2w", "style": "display: block; max-height: 120px;"}) }}
                            {% endif %}
                            <h1 class="fr-h3 fr-text--center">{{ aSurveyInfo.sSiteName }}</h1>
                        </div>
                    </div>

                    {# Sélecteur de langue #}
                    {% if aSurveyInfo.aLanguages|length > 1 %}
                    <div class="fr-grid-row fr-grid-row--center fr-mb-4w">
                        <div class="fr-col-12 fr-col-md-6 fr-col-lg-4">
                            <div id="surveylist-language-changer" class="ls-js-hidden">
                                {{ include('./subviews/navigation/language_changer_form.twig') }}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    {# Titre de la liste #}
                    <div class="fr-grid-row fr-grid-row--center">
                        <div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
                            <p class="fr-text--lead">{{ gT("The following surveys are available:") }}</p>
                        </div>
                    </div>

                    {# Liste des questionnaires #}
                    <div class="fr-grid-row fr-grid-row--center fr-mb-4w">
                        <div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
                            <ul class="fr-btns-group fr-btns-group--lg">
                                {% for key, oSurvey in aSurveyInfo.publicSurveys %}
                                    <li>
                                        <a href="{{ oSurvey.sSurveyUrl }}"
                                           title="{{ gT("Start survey") }}"
                                           lang="{{ oSurvey.language }}"
                                           class="fr-btn fr-btn--lg">
                                            {{ oSurvey.localizedTitle }}
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>

                    {# Contact #}
                    <div class="fr-grid-row fr-grid-row--center fr-mt-4w">
                        <div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
                            <p class="fr-text--sm fr-text--muted">
                                {{ sprintf(gT("Please contact %s ( %s ) for further assistance."), aSurveyInfo.sSiteAdminName, aSurveyInfo.sSiteAdminEmail) }}
                            </p>
                        </div>
                    </div>

                    {# Footer LimeSurvey #}
                    <div class="fr-grid-row fr-grid-row--center fr-mt-6w">
                        <div class="fr-col-12 fr-text--center">
                            <a href="https://www.limesurvey.org" target="_blank" rel="noopener" class="fr-link fr-text--sm">
                                The Online Survey Tool
                            </a>
                            <span class="fr-text--sm fr-text--muted"> - Free & Open Source</span>
                        </div>
                    </div>
                </div>
            {% endblock %}

            {{ registerScript("BasicThemeScripts", " if(window.basicThemeScripts === undefined){ window.basicThemeScripts = new ThemeScripts(); } basicThemeScripts.initGlobal(); ", "POS_END") }}
        {% endblock %}
    </div>
</article>

{% block footer %}
    {{ include('./subviews/footer/footer.twig') }}
{% endblock %}

<div id="bottomScripts">
    <###end###>
</div>

{% block themescripts %}
    <script>
        window.basicThemeScripts.init();
    </script>
{% endblock %}
</body>
</html>
